import{l as D,d as T}from"./tagManagement.25f6bf47.js";import{_ as A,d as $,r as d,k as w,e as z,c as e,w as a,M as p,j as n,o as g,m as l,l as v}from"./index.922aee54.js";const L={class:"tag-list"},M=$({__name:"TagList",setup(S){const _=d(!1),m=d([]),o=d({current:1,pageSize:10,total:0}),i=async()=>{try{_.value=!0;const u=await D({skip:(o.value.current-1)*o.value.pageSize,limit:o.value.pageSize});console.log(u),m.value=u.list||[],o.value.total=u.total||0}catch{p.error("\u83B7\u53D6\u6807\u7B7E\u5217\u8868\u5931\u8D25")}finally{_.value=!1}},B=async u=>{try{await T(u),p.success("\u5220\u9664\u6210\u529F"),i()}catch{p.error("\u5220\u9664\u5931\u8D25")}},y=u=>{o.value.current=u,i()};return w(()=>{i()}),(u,t)=>{const c=n("a-button"),F=n("a-page-header"),r=n("a-table-column"),f=n("a-tag"),k=n("a-popconfirm"),E=n("a-space"),x=n("a-table"),C=n("a-card");return g(),z("div",L,[e(F,{title:"\u6807\u7B7E\u7BA1\u7406",subtitle:"\u7BA1\u7406\u6587\u7AE0\u6807\u7B7E"},{extra:a(()=>[e(c,{type:"primary",onClick:t[0]||(t[0]=s=>u.$router.push("/tags/add"))},{default:a(()=>t[1]||(t[1]=[l(" \u6DFB\u52A0\u6807\u7B7E ")])),_:1,__:[1]})]),_:1}),e(C,null,{default:a(()=>[e(x,{loading:_.value,data:m.value,pagination:o.value,onPageChange:y},{columns:a(()=>[e(r,{title:"\u6807\u7B7E\u540D\u79F0","data-index":"name"}),e(r,{title:"\u72B6\u6001","data-index":"status"},{cell:a(({record:s})=>[s.status===1?(g(),v(f,{key:0,color:"green"},{default:a(()=>t[2]||(t[2]=[l("\u542F\u7528")])),_:1,__:[2]})):(g(),v(f,{key:1,color:"red"},{default:a(()=>t[3]||(t[3]=[l("\u7981\u7528")])),_:1,__:[3]}))]),_:1}),e(r,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"created_at"}),e(r,{title:"\u64CD\u4F5C"},{cell:a(({record:s})=>[e(E,null,{default:a(()=>[e(c,{type:"text",onClick:b=>u.$router.push(`/tags/edit/${s.id}`)},{default:a(()=>t[4]||(t[4]=[l(" \u7F16\u8F91 ")])),_:2,__:[4]},1032,["onClick"]),e(k,{content:"\u786E\u8BA4\u5220\u9664\u8BE5\u6807\u7B7E\uFF1F",onOk:b=>B(s.id)},{default:a(()=>[e(c,{type:"text",status:"danger"},{default:a(()=>t[5]||(t[5]=[l("\u5220\u9664")])),_:1,__:[5]})]),_:2},1032,["onOk"])]),_:2},1024)]),_:1})]),_:1},8,["loading","data","pagination"])]),_:1})])}}});var O=A(M,[["__scopeId","data-v-2cce8fb0"]]);export{O as default};
